<!DOCTYPE html>

{% load static %}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://unpkg.com/cropperjs/dist/cropper.css">

    <link href="{% static 'scripts/libs/chosen_v1.8.7/chosen.min.css' %}" rel="stylesheet">
    <link href="{% static 'style/msp.css' %}" rel="stylesheet">

    <script src="//api.bitrix24.com/api/v1/"></script>
    <script>
        let smartProcessId = {{ id }};
        let portalUrl = "{{ portal_url }}";
    </script>

    <title>МСП</title>
</head>
<body>
    <div id="elemWaitingLoader" class="mt-5 d-flex justify-content-center">
        <p class="fs-2">Загрузка карточки товара (МСП) ...</p>
        <div class="ms-3 spinner-border" style="width: 3rem; height: 3rem;" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
    <div id="containerProduct" class="product-container text-center m-3 d-none">
        <div class="row d-flex justify-content-between align-items-start">
            <div class="col d-flex align-items-start flex-column mb-3" style="max-width: 350px;">
                <div class="input-group input-group-sm mb-3 product-date-create-container">
                    <span class="input-group-text col-5" id="dateCreate">Дата создания</span>
                    <input type="date" id="createdTime" class="form-control product-date-create-input" aria-label="Sizing example input" aria-describedby="dateCreate" readonly>
                </div>
                <div class="input-group input-group-sm product-date-cheanged-container">
                    <span class="input-group-text col-5" id="dateChanged">Дата изменения</span>
                    <input type="date" id="updatedTime" class="form-control product-date-cheanged-input" aria-label="Sizing example input" aria-describedby="dateChanged" readonly>
                </div>
            </div>

            <div class="col d-flex align-items-start flex-column mb-3 responsible-container" style="max-width: 650px;">
                <div class="input-group input-group-sm mb-3 product-date-create-container responsible-created">
                    <span class="input-group-text col-3 responsible-created-label">Кто заполнил</span>
                    <input type="text" id="createdBy" class="form-control product-date-create-input responsible-created-url link-primary" aria-label="Sizing example input" aria-describedby="" value="-" readonly>
                </div>
                <div class="input-group input-group-sm mb-3 product-date-create-container responsible-changed">
                    <span class="input-group-text col-3 responsible-changed-label">Кто изменил</span>
                    <input type="text" id="updatedBy" class="form-control product-date-create-input responsible-changed-url link-primary" aria-label="Sizing example input" aria-describedby="" value="-" readonly>
                </div>
<!--                <div class="d-flex flex-row mb-3 input-group-sm responsible-created">-->
<!--                    <label for="createdBy" class="input-group-text me-2 responsible-created-label">Кто заполнил</label>-->
<!--                    <div class="col">-->
<!--                        <a href="#" id="createdBy" class="responsible-created-url link-primary"></a>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="d-flex flex-row mb-3 input-group-sm responsible-changed">-->
<!--                    <label for="updatedBy" class="input-group-text me-2 responsible-changed-label">Кто изменил</label>-->
<!--                    <div class="col">-->
<!--                        <a href="#" id="updatedBy" class="responsible-changed-url link-primary"></a>-->
<!--                    </div>-->
<!--                </div>-->
            </div>

            <div class="col btn-group-vertical" role="group" aria-label="Vertical button group" style="max-width: 350px;">
                <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#instructionChange">Инструкция по изменениям</button>
                <button type="button" class="btn btn-outline-secondary">История изменения</button>
            </div>

            <div class="col btn-group-vertical" role="group" aria-label="Vertical button group" style="max-width: 350px;">
                <button type="button" id="btnOpenDiskFolder" class="btn btn-outline-secondary">Открыть директорию</button>
                <button type="button" id="btnDownloadFiles" class="btn btn-outline-secondary">
                    Загрузить файлы
                    <div class="ms-3 spinner-border spinner-border-sm" role="status" style="display: none;">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <input type="file" id="inputDownloadFiles" style="display: none;" multiple>
                </button>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col">
                <button type="button" class="btn btn-success w-75 product-btn-save">
                    Сохранить
                    <div class="ms-3 spinner-border spinner-border-sm text-light" role="status" style="display: none;">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </button>
            </div>
            <div class="col">
                <button type="button" id="btnCreateCopyProduct" class="btn btn-primary w-75 product-btn-copy">
                    Копировать
                    <div class="ms-3 spinner-border spinner-border-sm text-light" role="status" style="display: none;">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </button>
            </div>
            <div class="col">
                <button type="button" id="btnDeleteProduct" class="btn btn-danger w-75 product-btn-remove">
                    Удалить
                    <div class="ms-3 spinner-border spinner-border-sm text-light" role="status" style="display: none;">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </button>
            </div>
            <div class="col-1 d-flex align-items-center">
                <div class="form-check w-100">
                    <input type="checkbox" class="btn-check" id="isMeasured" autocomplete="off" data-field="isMeasured" data-track="true">
                    <label class="btn btn-outline-success w-100" for="isMeasured">Замер</label><br>
                </div>
            </div>
            <div class="col-1 d-flex align-items-center">
                <div class="form-check w-100">
                    <input type="checkbox" class="btn-check" id="isActive" autocomplete="off">
                    <label class="btn btn-outline-success w-100" for="isActive">Активен</label><br>
                </div>
            </div>
<!--            <div class="col-1 d-flex align-items-center">-->
<!--                <div class="form-check">-->
<!--                    <input class="form-check-input" type="checkbox" value="" id="isMeasured" data-field="isMeasured" data-track="true">-->
<!--                    <label class="form-check-label" for="isMeasured">Замер</label>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="col-1 d-flex align-items-center">-->
<!--                <div class="form-check">-->
<!--                    <input class="form-check-input" type="checkbox" value="" id="isActive" data-field="isActive" data-track="true">-->
<!--                    <label class="form-check-label" for="isActive">Активен</label>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="btn-group w-75" role="group" aria-label="Basic checkbox toggle button group" style="max-width: 200px;">-->
<!--                <input type="checkbox" class="btn-check product-input-is-measured" id="btncheck1" autocomplete="off">-->
<!--                <label class="btn btn-outline-secondary" for="btncheck1">Замер</label>-->
<!--            </div>-->
<!--            <div class="btn-group w-75" role="group" aria-label="Basic checkbox toggle button group" style="max-width: 200px;">-->
<!--                <input type="checkbox" class="btn-check product-input-is-active" id="btncheck2" autocomplete="off">-->
<!--                <label class="btn btn-outline-secondary" for="btncheck2">Активен</label>-->
<!--            </div>-->
        </div>
        <div class="row mb-3">
            <div class="product-left col-7">
                <!-- Главное фото -->
                <div class="card border-secondary-subtle mb-3 mh-100 w-100 file-upload-container">
                    <input type="file" id="mainPhoto" accept="image/1*" class="file-upload-input main-photo-upload-input" style="display: none;">
                    <label for="mainPhoto" class="file-upload-label">
                        <div class="card-header fs-5 fw-bold header-size"  style="width: 100%;">Общее фото изделия</div>
                        <div class="upload-icon">&#x1F4E5;</div>
                        <div class="upload-text">Выберите файл</div>
                        <img id="imgMainPhoto" src="#" alt="Preview" class="preview-image w-100 h-100" style="display: none;">
                    </label>
                </div>
                <!-- Доставка -->
                <div class="product-delivery">
                    <table class="table table-bordered table-sm mb-3">
                        <tr>
                            <td class="fw-bold bg-light table-header-size">Город доставки:</td>
                            <td class="p-0 m-0">
                                <input type="text" id="deliveryCity" class="mh-100 w-100 py-1 px-2 border-0" data-field="deliveryCity" data-track="true">
                            </td>
                            <td class="fw-bold bg-light table-header-size">Количество:</td>
                            <td class="p-0 m-0">
                                <input type="text" id="quantity" class="mh-100 w-100 py-1 px-2 border-0" data-field="quantity" data-track="true">
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Себестоимость -->
                <div class="product-calculations">
                    <table class="table table-bordered table-sm mb-3">
                        <thead class="table-light">
                            <tr>
                                <th class="table-header-size">Себестоимость</th>
                                <th class="table-header-size">Комментарии ПРОИЗВОДСТВА</th>
                            </tr>
                        </thead>
                        <tr>
                            <td class="p-0 m-0">
                                <input type="text" id="costPrice_1" class="mh-100 w-100 py-1 px-2 border-0" placeholder="">
                            </td>
                            <td class="p-0 m-0">
                                <input type="text" id="productionNotes_1" class="mh-100 w-100 py-1 px-2 border-0" placeholder="">
                            </td>
                        </tr>
                        <tr>
                            <td class="p-0 m-0">
                                <input type="text" id="costPrice_2" class="mh-100 w-100 py-1 px-2 border-0" placeholder="">
                            </td>
                            <td class="p-0 m-0">
                                <input type="text" id="productionNotes_2" class="mh-100 w-100 py-1 px-2 border-0" placeholder="">
                            </td>
                        </tr>
                        <tr>
                            <td class="p-0 m-0">
                                <input type="text" id="costPrice_3" class="mh-100 w-100 py-1 px-2 border-0" placeholder="">
                            </td>
                            <td class="p-0 m-0">
                                <input type="text" id="productionNotes_3" class="mh-100 w-100 py-1 px-2 border-0" placeholder="">
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Комментарий ответственного-->
                <div class="product-comment-rop col border border-secondary-subtle mb-2 bg-light bg-opacity-5 text-dark">
                    <label for="managerNotes" class="fs-6 fw-bold table-header-size">Заметки руководителя</label>
                    <textarea class="form-control rounded-0 px-0" id="managerNotes" rows="3" data-field="managerNotes" data-track="true"></textarea>
                </div>
            </div>
            <div class="product-right col-5">
                <div class="product-common-data">
                    <div class="border border-secondary-subtle mb-2 bg-light bg-opacity-5 text-dark">
                        <label for="" class="fs-5 fw-bold header-size">Общие данные</label>
                        <table class="table table-bordered table-sm mb-0">
                            <tr>
                                <td colspan="5" class="p-0 m-0 table-body-size">
                                    <input type="text" id="freeTitle" class="mh-100 w-100 py-1 px-2 border-0" data-field="freeTitle" data-track="true" placeholder="Свободное название изделия">
                                </td>
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Общий габарит в мм.:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <input type="text" id="commonDimensions" class="mh-100 w-100 py-1 px-2 border-0" placeholder="Ш. В." data-field="commonDimensions" data-track="true">
                                </td>
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Строгое соблюдение размера:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <select id="strictSizeCompliance" class="form-select form-select-sm border-0" aria-label="Small select example" data-field="strictSizeCompliance" data-track="true"></select>
                                </td>
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Система крепежа:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <select id="fasteningSystem" class="form-select form-select-sm border-0" aria-label="Small select example" data-field="fasteningSystem" data-track="true"></select>
                                </td>
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Толщина ППУ панелей:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <input type="text" id="hicknessPUT" class="mh-100 w-100 py-1 px-2 border-0" data-field="hicknessPUT" data-track="true">
                                </td>
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Коллекция и цвет обивочной ткани:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <select id="upholsteryFabricCollection" class="form-select form-select-sm border-0" aria-label="Small select example" data-field="upholsteryFabricCollection" data-track="true"></select>
                                </td>
<!--                                <td colspan="3" class="p-0 m-0 table-body-size">-->
<!--                                    <input type="text" class="mh-100 w-100 py-1 px-2 border-0" placeholder="">-->
<!--                                </td>-->
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Тип и цвет обивочной ткани:</td>
                                <td colspan="2" class="p-0 m-0 table-body-size">
                                    <input type="text" id="upholsteryFabricType" class="mh-100 w-100 py-1 px-2 border-0" disabled>
                                </td>
                                <td style="max-width: 90px;" class="table-header-size">Цвет:</td>
                                <td class="p-0 m-0 table-body-size">
                                    <input type="text" id="upholsteryFabricColor" class="mh-100 w-100 py-1 px-2 border-0" disabled>
                                </td>
                            </tr>
                            <tr>
                                <td class="table-header-size">Описание декора и комментарии:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <textarea class="form-control border-0 table-body-size" id="decorationDescription" rows="3" data-field="decorationDescription" data-track="true"></textarea>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="product-distinctive-panels-1">
                    <div class="border border-secondary-subtle mb-2 bg-light bg-opacity-5 text-dark">
                        <label for="" class="fs-5 fw-bold header-size">Отличительные панели</label>
                        <table class="table table-bordered table-sm mb-0">
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Как отмечено на эскизе:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <input type="text" id="markedOnSketch_1" class="mh-100 w-100 py-1 px-2 border-0" data-field="markedOnSketch_1" data-track="true">
                                </td>
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Толщина ППУ панелей:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <input type="text" id="hicknessPUT_1" class="mh-100 w-100 py-1 px-2 border-0" data-field="hicknessPUT_1" data-track="true">
                                </td>
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Коллекция и цвет обивочной ткани:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <select id="upholsteryFabricCollection_1" class="form-select form-select-sm border-0" aria-label="Small select example" data-field="upholsteryFabricCollection_1" data-track="true"></select>
                                </td>
<!--                                <td colspan="3" class="p-0 m-0 table-body-size">-->
<!--                                    <input type="text" id="" class="mh-100 w-100 py-1 px-2 border-0" placeholder="">-->
<!--                                </td>-->
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Тип и цвет обивочной ткани:</td>
                                <td colspan="2" class="p-0 m-0 table-body-size">
                                    <input type="text" id="upholsteryFabricType_1" class="mh-100 w-100 py-1 px-2 border-0" disabled>
                                </td>
                                <td style="max-width: 90px;" class="table-header-size">Цвет:</td>
                                <td class="p-0 m-0 table-body-size">
                                    <input type="text" id="upholsteryFabricColor_1" class="mh-100 w-100 py-1 px-2 border-0" disabled>
                                </td>
                            </tr>
                            <tr>
                                <td class="table-header-size">Описание декора и комментарии:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <textarea class="form-control border-0 table-body-size" id="decorationDescription_1" rows="3" data-field="decorationDescription_1" data-track="true"></textarea>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="product-distinctive-panels-2">
                    <div class="border border-secondary-subtle mb-2 bg-light bg-opacity-5 text-dark">
                        <label for="" class="fs-5 fw-bold header-size">Отличительные панели</label>
                        <table class="table table-bordered table-sm mb-0">
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Как отмечено на эскизе:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <input type="text" id="markedOnSketch_2" class="mh-100 w-100 py-1 px-2 border-0" data-field="markedOnSketch_2" data-track="true">
                                </td>
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Толщина ППУ панелей:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <input type="text" id="hicknessPUT_2" class="mh-100 w-100 py-1 px-2 border-0" data-field="hicknessPUT_2" data-track="true">
                                </td>
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Коллекция и цвет обивочной ткани:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <select id="upholsteryFabricCollection_2" class="form-select form-select-sm border-0" aria-label="Small select example" data-field="upholsteryFabricCollection_2" data-track="true"></select>
                                </td>
<!--                                <td colspan="3" class="p-0 m-0 table-body-size">-->
<!--                                    <input type="text" class="mh-100 w-100 py-1 px-2 border-0" placeholder="">-->
<!--                                </td>-->
                            </tr>
                            <tr>
                                <td style="max-width: 265px;" class="table-header-size">Тип и цвет обивочной ткани:</td>
                                <td colspan="2" class="p-0 m-0 table-body-size">
                                    <input id="upholsteryFabricType_2" type="text" class="mh-100 w-100 py-1 px-2 border-0" disabled>
                                </td>
                                <td style="max-width: 90px;" class="table-header-size">Цвет:</td>
                                <td class="p-0 m-0 table-body-size">
                                    <input id="upholsteryFabricColor_2" type="text" class="mh-100 w-100 py-1 px-2 border-0" disabled>
                                </td>
                            </tr>
                            <tr>
                                <td class="table-header-size">Описание декора и комментарии:</td>
                                <td colspan="4" class="p-0 m-0 table-body-size">
                                    <textarea class="form-control border-0 table-body-size" id="decorationDescription_2" rows="3" data-field="decorationDescription_2" data-track="true"></textarea>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="product-comment-responsible col border border-secondary-subtle mb-2 bg-light bg-opacity-5 text-dark">
                    <label for="generalResponsibilityComments" class="fs-6 fw-bold table-header-size">Общие комментарии ответственного</label>
                    <textarea class="form-control rounded-0 px-0" id="generalResponsibilityComments" rows="3" data-field="generalResponsibilityComments" data-track="true"></textarea>
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <div>
                <div class="border photos-parent">
                    <div class="border child child1">
                        <div class="child-container">
                            <img id="previewImageFabric" class="previewImage w-100 h-100" src="" alt="Preview">
                        </div>
                    </div>
                    <div class="border child child2">
                        <input type="file" class="preview-image-input" accept="image/*">
                        <img id="previewImage1" class="previewImage w-100 h-100" src="" alt="Preview">
                    </div>
                    <div class="border child child3">
                        <input type="file" class="preview-image-input" accept="image/*">
                        <img id="previewImage2" class="previewImage w-100 h-100" src="" alt="Preview">
                    </div>
                    <div class="border child child4">
                        <input type="file" class="preview-image-input" accept="image/*">
                        <img id="previewImage3" class="previewImage w-100 h-100" src="" alt="Preview">
                    </div>
                    <div class="border child child5">
                        <input type="file" class="preview-image-input" accept="image/*">
                        <img id="previewImage4" class="previewImage w-100 h-100" src="" alt="Preview">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно с инструкцией по изменениям -->
    <div class="modal fade" id="instructionChange" tabindex="-1" aria-labelledby="instructionChangeLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="instructionChangeLabel">Инструкция по изменениям</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div>
                        <div>Принцип цветового обозначения изменений в бланке:</div>
                        <div class="d-flex flex-row">
                            <div class="col-3 bg-warning-subtle"></div>
                            <div class="ml-2"> - первое изменение</div>
                        </div>
                        <div class="d-flex flex-row">
                            <div class="col-3 bg-primary-subtle"></div>
                            <div> - второе изменение</div>
                        </div>
                        <div class="d-flex flex-row">
                            <div class="col-3 bg-primary"></div>
                            <div> - третие изменение</div>
                        </div>
                        <div class="d-flex flex-row">
                            <div class="col-3 bg-warning"></div>
                            <div> - четвертое изменение</div>
                        </div>
                        <div class="d-flex flex-row">
                            <div class="col-3 bg-danger"></div>
                            <div> - пятое изменение</div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/cropperjs"></script>

    <script type="module" src="{% static 'scripts/libs/chosen_v1.8.7/docsupport/jquery-3.2.1.min.js' %}"></script>
    <script type="module" src="{% static 'scripts/libs/chosen_v1.8.7/chosen.jquery.min.js' %}"></script>
    <script type="module" src="{% static 'scripts/msp.js' %}"></script>

    <script>
        let loadedImagesCount = 0;

        function updateParentHeight() {
            const parent = document.querySelector('.photos-parent');
            console.log("parent = ", parent);
            const parentWidth = parent.clientWidth;
            console.log("parentWidth = ", parentWidth);
            const coefficient = Math.SQRT2;
            <!-- console.log(parentWidth, parentWidth / coefficient); -->
            parent.style.height = (parentWidth / coefficient) + 'px';
        }

        window.addEventListener('resize', function() {
            updateParentHeight();
        });

        document.addEventListener('DOMContentLoaded', function() {
            console.log("updateParentHeight!!!");
            updateParentHeight();
<!--            const images = document.querySelectorAll('img');-->
<!--            images.forEach(image => {-->
<!--                image.addEventListener('load', imageLoadedHandler);-->
<!--            });-->
        });

<!--        function imageLoadedHandler() {-->
<!--            loadedImagesCount++;-->
<!--            console.log('loadedImagesCount = ', loadedImagesCount);-->
<!--            if (loadedImagesCount === document.querySelectorAll('img').length) {-->
<!--                console.log('Все изображения загружены');-->
<!--            }-->
<!--            updateParentHeight();-->
<!--        }-->

    </script>

</body>
</html>
